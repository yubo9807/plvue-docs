var A=Object.defineProperty;var I=(e,t,n)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var h=(e,t,n)=>(I(e,typeof t!="symbol"?t+"":t,n),n);import{j as d,e as j,_ as L}from"./main-d9a78638.js";import{b as g,r as b,h as r,d as v,o as w,R as S,a as k,L as U,u as x,e as D}from"./pl-vue-66025a44.js";import{a as $}from"./axios-minified-06d31459.js";const i=new Set,C=400;let l=0;function F(e){const t=v(!0),n=v();let s=null;const a=Symbol("id");i.add(a),w(async()=>{n.value.style.top=l+"px";const p=n.value.offsetHeight;l+=p+10,await P(100),t.value=!1,_()});async function u(){if(t.value=!0,await P(C),i.delete(a),i.size===0)c.remove();else{const p=Number(n.value.dataset.sort),E=n.value.offsetHeight;l-=E+10,n.value.remove(),[...c.children].forEach((m,R)=>{if(R<p)return;const T=parseInt(m.style.top);m.style.top=T-E-10+"px",m.dataset.sort=R+""})}}function f(){clearTimeout(s),t.value=!1}function _(){e.duration!==null&&(s=setTimeout(u,e.duration||4e3))}return r("div",{ref:n,className:()=>d("comp-message",e.type,t.value&&"hidden"),"data-sort":i.size-1+"",style:`--time: ${C/1e3}s`,onmouseenter:f,onmouseout:_},e.message,r("span",{className:"icon-close",onclick:u},"×"))}let c=null;function o(e){if(!g())return;const t=b(r(F,{...e}));c??(c=b(r("div",{className:"comp-message-wrap"}))),c.appendChild(t),document.body.appendChild(c)}o.info=e=>o({message:e,type:"info"});o.success=e=>o({message:e,type:"success"});o.error=e=>o({message:e,type:"error"});o.warning=e=>o({message:e,type:"warning"});o.closeAll=async()=>{!g()&&!c||([...c.children].forEach(e=>{e.classList.add("hidden"),e.remove()}),i.clear(),l=0,c.remove())};class M{constructor(t){h(this,"config");h(this,"instance");g()&&O(),this.config=t,this.instance=$.create(t),this.instance.interceptors.request.use(n=>this.requestUse(n)),this.instance.interceptors.response.use(n=>this.responseUse(n),n=>{const{response:s,config:a,message:u}=n;if(s&&s.data)return this.responseUse(s);const{url:f}=n.config;return Promise.reject({code:500,msg:u||"network error: "+f})})}requestUse(t){return t}responseUse(t){const n=t.data;return(this[n.code]||this.error)(t)}200(t){return Promise.resolve(t.data)}error(t){const{data:n,config:s}=t;return!s.noTips&&o.error(n.msg),Promise.reject(n)}}function H(e){return e.then(t=>[null,t]).catch(t=>[t,null])}function P(e){return new Promise(t=>{setTimeout(t,e)})}function O(){window.addEventListener("online",()=>{o.closeAll(),o.success("网络恢复")}),window.addEventListener("offline",()=>{o({type:"error",message:"网络中断",duration:null})})}class z extends M{constructor(){super({baseURL:j.BASE_API,timeout:5e3})}}const B=new z;function q(e){return H(B.instance(e))}function V(){return q({url:"/file/read",params:{path:"/plvue/config.json"}})}function J(e){return q({url:"/file/read",params:{path:e}})}const G="container-4ac8c9",K="side-f9a8bf",Q="active-889810",W="content-a47edb",X="show-side-a60745",y={container:G,side:K,active:Q,content:W,"show-side":"show-side-a60745",showSide:X};function Y(e){return w(()=>{const t=D(),n=x();e.data[0]&&!t.path.replace(e.path,"")&&n.replace(e.path+"/"+e.data[0].value)}),r("div",{className:d("leayer",y.container)},r("ul",{className:()=>d(y.side)},e.data.map(t=>r("li",null,r(U,{to:`${e.path}/${t.value}`},t.label)))),r(S,{prefix:e.path},...e.data.map(t=>r(k,{path:"/"+t.value,component:Z(N)}))))}function Z(e){const t=function(...n){return e.apply(this,n)};return t.prototype=e.prototype,t}Y.prototype.getInitialProps=async()=>{const[e,t]=await V(),n=[];if(e)return n;const s=JSON.parse(t.data.content);for(const a in s)n.push({label:s[a],value:a});return n};function N(e){const t=v();return w(async()=>{L(()=>import("./highlight.js-5e1ab8e1.js").then(a=>a.d),["assets/highlight.js-5e1ab8e1.js","assets/axios-minified-06d31459.js","assets/highlight-c5123cb4.css"]);const n=(await L(()=>import("./highlight.js-5e1ab8e1.js").then(a=>a.c),["assets/highlight.js-5e1ab8e1.js","assets/axios-minified-06d31459.js","assets/highlight-c5123cb4.css"])).default;t.value.querySelectorAll("pre code").forEach(a=>{n.highlightElement(a)})}),r("div",{ref:t,className:d(y.content,"markdown")},r("div",{innerHTML:e.data}))}N.prototype.getInitialProps=async e=>{const[t,n]=await J(`/plvue${e.path.replace("/docs","")}.md`);return t?"":n.data.content};export{Y as default};
