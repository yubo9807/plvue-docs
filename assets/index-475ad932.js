var k=Object.defineProperty;var A=(e,t,n)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var y=(e,t,n)=>(A(e,typeof t!="symbol"?t+"":t,n),n);import{j as f,e as I,_ as R}from"./main-b9b74442.js";import{b as g,r as L,h as a,d as p,o as _,R as S,a as j,L as U,H as $,u as x,w as D,e as H}from"./pl-vue-aca2f2aa.js";import{a as F}from"./axios-minified-06d31459.js";const d=new Set,N=400;let h=0;function M(e){const t=p(!0),n=p();let s=null;const o=Symbol("id");d.add(o),_(async()=>{n.value.style.top=h+"px";const v=n.value.offsetHeight;h+=v+10,await P(100),t.value=!1,m()});async function l(){if(t.value=!0,await P(N),d.delete(o),d.size===0)c.remove();else{const v=Number(n.value.dataset.sort),b=n.value.offsetHeight;h-=b+10,n.value.remove(),[...c.children].forEach((w,E)=>{if(E<v)return;const T=parseInt(w.style.top);w.style.top=T-b-10+"px",w.dataset.sort=E+""})}}function u(){clearTimeout(s),t.value=!1}function m(){e.duration!==null&&(s=setTimeout(l,e.duration||4e3))}return a("div",{ref:n,className:()=>f("comp-message",e.type,t.value&&"hidden"),"data-sort":d.size-1+"",style:`--time: ${N/1e3}s`,onmouseenter:u,onmouseout:m},e.message,a("span",{className:"icon-close",onclick:l},"×"))}let c=null;function r(e){if(!g())return;const t=L(a(M,{...e}));c??(c=L(a("div",{className:"comp-message-wrap"}))),c.appendChild(t),document.body.appendChild(c)}r.info=e=>r({message:e,type:"info"});r.success=e=>r({message:e,type:"success"});r.error=e=>r({message:e,type:"error"});r.warning=e=>r({message:e,type:"warning"});r.closeAll=async()=>{!g()&&!c||([...c.children].forEach(e=>{e.classList.add("hidden"),e.remove()}),d.clear(),h=0,c.remove())};class O{constructor(t){y(this,"config");y(this,"instance");g()&&z(),this.config=t,this.instance=F.create(t),this.instance.interceptors.request.use(n=>this.requestUse(n)),this.instance.interceptors.response.use(n=>this.responseUse(n),n=>{const{response:s,config:o,message:l}=n;if(s&&s.data)return this.responseUse(s);const{url:u}=n.config;return Promise.reject({code:500,msg:l||"network error: "+u})})}requestUse(t){return t}responseUse(t){const n=t.data;return(this[n.code]||this.error)(t)}200(t){return Promise.resolve(t.data)}error(t){const{data:n,config:s}=t;return!s.noTips&&r.error(n.msg),Promise.reject(n)}}function V(e){return e.then(t=>[null,t]).catch(t=>[t,null])}function P(e){return new Promise(t=>{setTimeout(t,e)})}function z(){window.addEventListener("online",()=>{r.closeAll(),r.success("网络恢复")}),window.addEventListener("offline",()=>{r({type:"error",message:"网络中断",duration:null})})}class B extends O{constructor(){super({baseURL:I.BASE_API,timeout:5e3})}}const J=new B;function q(e){return V(J.instance(e))}function G(){return q({url:"/file/read",params:{path:"/plvue/config.json"}})}function K(e){return q({url:"/file/read",params:{path:e}})}const Q="container-4ac8c9",W="side-f9a8bf",X="active-889810",Y="content-a47edb",Z="show-side-a60745",i={container:Q,side:W,active:X,content:Y,"show-side":"show-side-a60745",showSide:Z};function ee(e){const t={label:"",value:""},n=p(!1);return _(()=>{const s=H(),o=x();e.data[0]&&!s.path.replace(e.path,"")&&o.replace(e.path+"/"+e.data[0].value),D(()=>s.path,l=>{t.value=l.replace(e.path+"/","");const u=e.data.find(m=>m.value===t.value);t.label=u&&u.label},{immediate:!0})}),a("div",{className:f("leayer",i.container)},a($,null,a("title",null,()=>t.label+" | Pl Vue"),a("meta",{name:"description",content:()=>`${t.label}`})),a("ul",{className:()=>f(i.side,n.value?i.active:""),onclick:()=>n.value=!1},e.data.map(s=>a("li",{className:()=>t.value===s.value&&i.active},a(U,{to:`${e.path}/${s.value}`},s.label)))),a(S,{prefix:e.path},...e.data.map(s=>a(j,{path:"/"+s.value,component:te(C)}))),a("div",{className:()=>f(i.showSide,n.value?i.active:""),onclick:()=>n.value=!n.value}))}function te(e){const t=function(...n){return e.apply(this,n)};return t.prototype=e.prototype,t}ee.prototype.getInitialProps=async()=>{const[e,t]=await G(),n=[];if(e)return n;const s=JSON.parse(t.data.content);for(const o in s)n.push({label:s[o],value:o});return n};function C(e){const t=p();return _(async()=>{R(()=>import("./highlight.js-5e1ab8e1.js").then(o=>o.d),["assets/highlight.js-5e1ab8e1.js","assets/axios-minified-06d31459.js","assets/highlight-c5123cb4.css"]);const n=(await R(()=>import("./highlight.js-5e1ab8e1.js").then(o=>o.c),["assets/highlight.js-5e1ab8e1.js","assets/axios-minified-06d31459.js","assets/highlight-c5123cb4.css"])).default;t.value.querySelectorAll("pre code").forEach(o=>{n.highlightElement(o)})}),a("div",{ref:t,className:f(i.content,"markdown")},a("div",{innerHTML:e.data}))}C.prototype.getInitialProps=async e=>{const[t,n]=await K(`/plvue${e.path.replace("/docs","")}.md`);return t?"":n.data.content};export{ee as default};
