"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const L=require("http"),x=require("fs"),v=require("path"),c=require("pl-vue/lib/router"),t=require("pl-vue"),y=require("pl-vue/lib/store"),F=require("pl-vue/lib/utils");const f={theme:"OS",clientWidth:0,scrollY:0},B={setTheme(e){f.theme=e},setClientWidth(e){f.clientWidth=e},setScrollY(e){f.scrollY=e}},N=y.defineStore({state:f,actions:B}),k="main-67f0a8",R={main:k},T="header-ada874",_="title-cccd77",E="navigation-0bbde6",j="active-e2bcb5",C="open-a63aca",l={header:T,title:_,navigation:E,active:j,open:C},$="production",u=Object.freeze({BASE_URL:"",NODE_ENV:$,BASE_API:"http://hicky.hpyyb.cn/api",GITHUB_URL:"https://github.com/yubo9807/"});function A(e){const n=typeof e.model=="object"?e.model:t.ref(e.model);e.children.forEach(a=>{a.attrs.selected=()=>n.value===a.attrs.value});function o(a){n.value=a.target.value,e.onChange&&e.onChange(n.value)}return t.h("select",{className:["comp-select",e.className],onchange:o},e.children)}function m(e){return t.h("option",{selected:e.selected,value:e.value},e.label)}const q=c.createRouter({base:u.BASE_URL}),p=t.createApp();p.use(q);function U(e,n,o="click"){function a(i){let s=i.target;for(;s;){if(e.includes(s))return;if(s===document.body)break;s=s.parentNode}s!==e[0]&&(n(),document.removeEventListener(o,a))}return setTimeout(()=>{document.addEventListener(o,a)}),a}function O(){const e=N();function n(d){e.setTheme(d)}const o=t.ref(),a=t.ref(),i=t.ref(!1);function s(){i.value?i.value=!1:(i.value=!0,U([o.value,a.value],()=>{i.value=!1}))}return t.h("header",{className:l.header},t.h("div",null,t.h(c.Link,{to:"/"},t.h("strong",{className:l.title},"Pl Vue"))),t.h("nav",{ref:o,className:()=>[l.navigation,i.value&&l.active]},t.h("a",null,"v",p.version),t.h("a",null,t.h(A,{model:e.theme,onChange:n},t.h(m,{label:"跟随系统",value:"OS"}),t.h(m,{label:"亮色主题",value:"light"}),t.h(m,{label:"暗色主题",value:"dark"}))),t.h(c.Link,{to:"/docs",onClick:(d,h)=>{s(),h()}},"文档"),t.h("a",{href:u.GITHUB_URL+"pl-vue",target:"_blank"},"GitHub")),t.h("span",{ref:a,className:l.open,onclick:s}))}const V="footer-967a98",H={footer:V};function I(){return t.h("footer",{className:H.footer},t.h("strong",null,"⚠️ 注意事项"),t.h("p",null,"本文文档仅供学习参考。并未发布正式版本，不提供任何商业用途。"))}const P="fixed-btns-c12827",G={"fixed-btns":"fixed-btns-c12827",fixedBtns:P},r={list:[]},W={add(e,n,o){r.list.findIndex(i=>i.key===e)>=0||r.list.push({key:e,ele:n,sort:o})},delete(e){const n=r.list.findIndex(o=>o.key===e);n<0||r.list.splice(n,1)}},S=y.defineStore({state:r,actions:W});function Y(){const e=S(),n=t.computed(()=>F.deepClone(e.list).sort((a,i)=>i.sort-a.sort).map(a=>a.ele));return t.h("ul",{className:G.fixedBtns},()=>n.value)}function z(e){return t.h(t.Fragment,null,t.h(O,null),t.h("main",{className:R.main},e.children),t.h(I,null),t.h(Y,null))}const M="page-not-found-649b78",D={"page-not-found":"page-not-found-649b78",pageNotFound:M};function J(){return t.h("div",{className:D.pageNotFound},t.h("strong",null,"404"),t.h("p",null,t.h(c.Link,{to:"/"},"⬅︎ 回到首页")))}function w(){return t.h("div",{className:"comp-loading"})}function K(){return N(),t.h(z,null,t.h(c.Router,{loading:w,notFound:J},t.h(c.Route,{path:"/docs",component:()=>Promise.resolve().then(()=>require("./assets/index-8f6f69c0.js")),exact:!1}),t.h(c.Route,{path:"/",component:()=>Promise.resolve().then(()=>require("./assets/index-1e112331.js"))})))}const g={"text/plain":[".txt"],"text/html":[".html"],"text/css":[".css"],"application/javascript;":[".js"],"application/json":[".json"],"image/vnd.microsoft.icon":[".ico"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/gif":[".gif"],"application/pdf":[".pdf"],"font/woff2":[".worf2"],"font/woff":[".worf"],"font/ttf":[".ttf"],"application/octet-stream":[".mp4",".avi"]};function Q(){const e=Object.values(g).flat();return[".gz"].concat(e)}function X(e){e=e.toLowerCase();let n=null;for(const o in g)if(g[o].includes(e)){n=o;break}return n}const Z=x.readFileSync(v.resolve(__dirname,"index.html"),"utf-8"),ee=L.createServer(async(e,n)=>{const o=e.url.replace(u.BASE_URL,""),a=v.extname(new URL("http://0.0.0.0"+o).pathname);if(Q().includes(a)){const i=v.resolve(__dirname,o.slice(1));x.readFile(i,(s,d)=>{if(s)n.writeHead(404,{"Content-Type":"text/plain"}),n.end("Not Found");else{const h=X(a);h&&n.setHeader("Content-Type",h),n.write(d),n.end()}})}else{const i=p.renderToString(K()),s=await c.ssrOutlet(i,o,Z);n.write(s),n.end()}}),b=3e3;ee.listen(b,()=>{console.log(`http://localhost:${b}${u.BASE_URL}`)});exports.Loading=w;exports.app=p;exports.env=u;exports.useStoreFixedBtns=S;
