import { AnyObj } from "../utils";
import { IS_REF, IS_SHALLOW, IS_SHALLOW_BEST } from "./proxy";
export declare class RefImpl<T> {
    [IS_REF]: boolean;
    [IS_SHALLOW]: boolean;
    [IS_SHALLOW_BEST]: boolean;
    _rawValue?: T;
    _value?: {
        value: T;
    };
    constructor(value: T, type?: 0 | 1 | 2);
    get value(): T;
    set value(newValue: T);
}
/**
 * 原始值转为响应式数据
 * @param value
 * @returns
 */
export declare function ref<T>(value?: T): RefImpl<T>;
/**
 * 性能最好的浅响应式对象（不会深度遍历收集依赖，也就无法强制更新）
 * 只能通过重新覆盖整个对象来触发更新
 * @param value
 * @returns
 */
export declare function shallowBestRef<T>(value?: T): RefImpl<T>;
/**
 * ref 的浅层代理
 * @param value
 * @returns
 */
export declare function shallowRef<T>(value?: T): RefImpl<T>;
/**
 * 强制触发 shallowRef
 * @param ref
 */
export declare function triggerRef(ref: RefImpl<object>): void;
/**
 * 判断对象是否为 ref
 * @note vue 实现这个函数有点low，随便定义一个对象就可以判断
 * @param ref
 */
export declare function isRef(ref: unknown): ref is RefImpl<unknown>;
/**
 * 返回 ref 内部值
 * @param ref
 * @returns
 */
export declare function unref<T>(ref: RefImpl<T>): T;
declare class ObjectRefImpl<T extends object> {
    [IS_REF]: boolean;
    _defaultValue: any;
    _key: keyof T;
    _object: T;
    constructor(target: T, key: keyof T, defaultValue?: any);
    get value(): T[keyof T];
    set value(value: T[keyof T]);
}
/**
 * @param target
 * @param key
 * @param defaultValue
 * @returns
 */
export declare function toRef<T extends object>(target: T, key: keyof T, defaultValue?: any): ObjectRefImpl<T>;
/**
 * @param target
 * @returns
 */
export declare function toRefs<T extends object>(target: T): AnyObj;
type CustomRefCallback<T> = (track: Function, trigger: Function) => ({
    get: () => T;
    set: (val: T) => void;
});
declare class CustomRefImpl<T> extends RefImpl<T> {
    _get: Function;
    _set: Function;
    constructor(callback: CustomRefCallback<T>);
    get value(): T;
    set value(val: T);
    /**
     * 设置 value，在合适的时间调用
     */
    setValue(): void;
}
/**
 * 自定义 Ref
 * @param callback
 * @returns
 */
export declare function customRef<T>(callback: CustomRefCallback<T>): CustomRefImpl<T>;
export {};
